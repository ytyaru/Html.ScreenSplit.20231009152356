# 補足情報

　本に表示したい補足情報をまとめる。

* 今何ページ目？
* 全何ページある？
* 今何％目？
* 今何時？

* 本書の概要を知りたい
    * 本書のタイトルは？
    * 本書のキャッチコピーは？（ターゲットに刺さるごく短い売り文句）
        * 本書を読む目的は？（ハウツー系：役立つ、小説系：感動する）
        * 本書の読者対象は？（年代、性別、職業）
        * 本書のジャンルは？（実用、創作）
    * 本書の要約は？
        * 本書の目次・索引は？
        * 本書の規模は？（文字数、読了見込時間）
        * 本書の著者は？（名前、読み、他作品、寄付）
        * 本書の発行日は？（作成、公開、最終更新日、版数）
    * 本書の著者は？
        * 名前、読みは？
        * 他作品は？（タイトル、ジャンル、字数、最終更新日時）
        * 寄付先は？（モナコインアドレス）

* 読書ログを残したい
    * どのくらい読んだか（冊数、字数、時間）
    * 何を読んだか（本リンク、タイトル、ジャンル、著者）
    * どうしたか（SNS拡散、感想文書留、感想文公開、寄付）
    * いつそれをしたか

* 本書を共有したい
    * 著者の作品に[感想文|意見文|批評文]を送りたい
    * [感想文|意見文|批評文|二次創作]を書きたい。[著者|皆]に知らせたい
    * 互いの感想文を読んで語り合いたい

* 著者や作品を支援したい
    * 著者に寄付したい
    * 宣伝したい
        * 本書の存在を皆に知らせたい（SNSでURL告知）
        * [感想文|意見文|批評文|二次創作]を[書きたい|書いて知らせたい]
    * 修正したい
        * 本書の誤字《ごじ》・脱字《だつじ》・衍字《えんじ》を著者に知らせたい

* 本アプリの概要を知りたい
    * リンク（GitHub, README, ソースコード, LICENSE）

* 自分も本を書きたい
    * アプリURL

# 番外編

　製本印刷したい。両面印刷プリンターで綴じを考慮した印刷が必要。中綴じ、平綴じ、無線綴じ等。綴じ方によってページ順、閉じ代の位置と幅が変わるため、レイアウト決定には綴じ方の決定が必須。データはPDF化が必要かもしれない。

* https://qiita.com/kerupani129/items/e7f0d8800ec886f81029
* https://qiita.com/take_3/items/316a59443035b8e48bb5
* https://nullnull.dev/blog/how-to-convert-html-to-pdf-using-javascript/
* https://qiita.com/kitanote/items/a9f11d2445f30279d528

# 厳選

* 今何ページ目？
* 全何ページある？
* 今何時？
* 本書の概要を知りたい
    * 本書のタイトルは？
    * 本書のキャッチコピーは？（ターゲットに刺さるごく短い売り文句）
        * 本書を読む目的は？（ハウツー系：役立つ、小説系：感動する）
        * 本書の読者対象は？（年代、性別、職業）
        * 本書のジャンルは？（実用、創作）
    * 本書の要約は？
        * 本書の目次・索引は？
        * 本書の規模は？（文字数、読了見込時間）
        * 本書の著者は？（名前、読み、他作品、寄付）
        * 本書の発行日は？（作成、公開、最終更新日、版数）
    * 本書の著者は？
        * 名前、読みは？
        * 他作品は？（タイトル、ジャンル、字数、最終更新日時）
        * 寄付先は？（モナコインアドレス）
* 本アプリの概要を知りたい
    * 概要は？
        * タイトルは？
        * キャッチコピーは？（誰に対して何をウリにしているか）
        * 要約は？（何をするアプリか）
        * ライセンスは？
    * 構成
        * アーキテクチャは？（PWA　Browser(JavaScript, CSS, HTML)←HTTPS通信→鯖（GitHub Pages））
        * ソースコードは？（URLリンク）
    * 著者は？
        * 名前、読みは？
        * 寄付先は？
    * 関連作品は？
        * reader    電子本表示機。ディスプレイ上で本のように表示する
        * writer    電子本作成機。本のように表示するテキストを作る
        * publisher 電子本公開機。電子本をGitHubやIPFSなどへ公開する
        * printer   電子本製本機。製本を考慮した綴じ方に組み替える
* 指定したテキスト部分をURLにして拡散したい
    * text-fragmentでは不足
        * 原稿ファイルパスとそのrevision、パラグラフ位置も合わせたURLパラメータにすべき
        * mark要素で囲って強調する
    * 用途は誤字・脱字・衍字の指摘や感想など
    * 遅延ロードする
        * 最初から画面構成すると時間がかかるので、最初は指定パラグラフのみ表示する
        * 全ロード完了後に指定ページへ遷移して表示完了する
    * 修正後テキストやツッコミなど自由メッセージを表示できるようにしたい
        * mark要素で強調した部分に吹き出しでメッセージを入れる
    * GitHubへプルリクしたい

# 表示位置

　補足情報を、どこに、どう表示するか。

* １列時：フッターに、同書字方向で表示する
* ２列時：センターに、逆書字方向で表示する

　本文の書字方向は基本的に横。これはフォントが縦書き用に作られていないことが多いため。たとえば長音記号ーが横になってしまう等が起きる。

* https://tameshigaki.jp/
* https://rimane.net/web-font-598/

　画面が小さいときは一列になる。補足情報は読む方向からみて最下端にする。自然に読める。

　画面が大きいときは二列になる。段組みの分割線ができるので、そこに補足情報を入れる。つまり中央に位置する。書字方向は逆になる。つまり本文が横書きのとき、補足情報は縦書きになる。これが最もスペースを省いたレイアウトである。

* 分割した各ページに補足情報を書く（単純に二倍）
* フッターに書く（分割線はどのみち必要なので1px分増えてしまう）

```css
display: grid;
grid-template-columns: var(--grid-template-columns); /* 1fr または 1fr var(--font-size) 1fr*/
grid-template-rows: var(--grid-template-rows); /* block-size px */
```
```table
            columns       rows      html
横書き一列  1fr           1fr 16px  <screen/><split/>
縦書き一列  1fr           1fr 16px  <screen/><split/>
横書き二列  1fr 16px 1fr  1fr       <screen/><split/><screen/>
縦書き二列  1fr 16px 1fr  1fr       <screen/><split/><screen/>
```
```table
writing-mode  screen-count
horizontal    1
vertical      1
horizontal    2
vertical      2
```
```javascript
    #gridTemplateColumns() { return '1fr' + ((1===this.options.count) ? '' : ` ${this.#fontSize()}px 1fr`) }
    #gridTemplateRows() { return `${this.#clientBlock() - this.#fontSize()}px` + ((1===this.options.count) ? ` ${this.#fontSize()}px` : '')
```

本文書字方向  画面数  補足情報書字方向
vertical      1       同
vertical      2       逆
horizontal    1       同
horizontal    2       逆

# 表示項目

* ロード中アイコン
* 現在ページ数
* 全ページ数
* 現在時刻（🕛00:00。表示ON/OFF）
* 縦｜横（Ｎ｜Ｚ）
* 明｜暗（☀｜🌙）
* 👀目（表示設定。書字方向、明暗、フォントファミリ、余白、柱、時刻表示、タイマー、配色（白黒以外）、紙質（ランダムノイズ）、背景）
* §セクション記号（タイトル、見出し、目次、索引、概要、本に関する情報。著者もね）
* ⚙歯車（アプリ設定、アプリ概要。著者もね）

```
🔃 1 ⚙
```
```
🔃 1 Ｎ🌙 ⚙
```
```
🔃 1 00:00 ⚙
```
```
🔃 1 00:00 Ｎ🌙 ⚙
```
```
🔃 1/999 § 00:00  Ｎ🌙👀⚙
```
```
🔃 1/999 00:00 タイトル§ Ｎ🌙👀⚙
```

　設定ボタンに圧縮することでシンプルな表示にする。

　マウスオーバーまたはタップで各種アイコンの表示ON/OFF切替ボタンを表示する。

```
⚙ [１|🕛|§|Ｎ|🌙] 表示ON/OFF
  [📕|👤|⚙]        詳細情報表示
  [📔|🐦|👆]       [自分|皆|著者]に向けて情報発信。
```

* 本の詳細表示
* 著者の詳細表示

* 自分に向けて情報発信
    * あるテキスト部分にメモを追記する
    * 読了後に読書感想文を書く
    * 寄付ログ（コイン種別,日時,金額,アドレス,URL）
* 皆に向けて情報発信
    * この本URLを紹介する
    * あるテキスト部分URLを紹介する
    * あるテキスト部分とそこへのメモを紹介する
    * 読書感想文を紹介する
* 著者に向けて情報発信
    * 指摘する（あるテキスト部分とそこへのメモを紹介する（あるTootへの返信という形にする or GitHubプルリク））
    * 読書感想文を送る（あるTootへの返信という形にする）
    * 寄付する（Ⓜ🅜モナコイン）

