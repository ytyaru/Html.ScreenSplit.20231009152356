# これは原稿です

　これはプレーンテキストで書かれた原稿です。文字セットUTF-8で書かれたテキストファイルです。構文はMarkdown、青空文庫、カクヨムに似たフォーマットです。

# 本のように表示するアプリ

　原稿を表示するアプリはJavaScript製です。このファイルのようにプレーンテキストをHTMLに変換し、本のように表示します。

# 概要

　このアプリはテキストを本のように表示します。この一点の実現に注力します。

・文字が見切れぬようにする
・ページめくりできるようにする
・フォントサイズは画面サイズやアスペクト比に応じて最適化する

　この三点によって本のような読み心地を実現します。

　ほかにもダークモードがあれば尚良。全画面のときは時刻表示もほしい所。ただしこれらの機能は優先度が低いです。本にはそのような機能はありませんからね。あくまで本のような読み心地に近づけることを最低限の目標とします。

# 機能

　主機能はプレーンテキストからHTMLに変換して表示することです。対応するHTML要素は本にある以下のみです。

・見出し h1〜h6
・段落   p
・改行   br
・強調   em
・ルビ   ruby

　《《強調》》のように傍点を振れます。
　傍点の種類はCSSで指定できます。

　漢字《かんじ》にルビを振れます。
　｜ひらがな《ヒラガナ》にもルビを振れます。
　｜English《えいご》にもルビを振れます。
　山田《やまだ》太郎《たろう》のように人名、固有名詞にルビを振ることが多いでしょう。
　極大閃熱呪文《ベギラゴン》、超電磁砲《レールガン》、｜伸縮自在の愛《バンジーガム》など中二病御用達の機能です。

　二行以上の空行があれば段落になります。
　一行以内の空行だけなら同一段落内で改行します。

　改行は連続できません。二行以上の改行は入力できません。
　また、段落間に改行を挟むことはできません。
　WEB小説のように無駄な空行をいくつも挟むことはできません。

　無駄空白ができないのは表現力を狭めることになります。それでも無駄空白を禁止する理由は、あくまで本に近づけるためです。本は文字によって描写するコンテンツです。できるだけ無駄な空白や記号といった視覚表現に頼らず、文字による描写を主としたコンテンツにしたいのです。
　文章力が求められます。読み進めたくなるような読みやすく興味をそそられる優れた文章でなければ、読まれなくなるでしょう。なにせ文字ばかり詰まっているのですから。故にだからこそ、本として価値あるコンテンツになります。そのような文章を書けるようになるために、あえて誤魔化しの効く無駄空白を禁止しました。日記のように適当に空白を入れることで文字が詰まっておらず読みやすいようにする見せかけの読みやすさではなく、文脈がつながっており自然と読み進められるような文章を書けるようにすべきです。ラノベのような「GREEEEEEEEE！」やら「ズガーン！」のような擬音表現ではなく、情景描写を文章で書けるようにしたいです。「すごいね😄(*´ω｀*)」のような記号による視覚情報ではなく自然言語による情景描写で表現したいのです。
　画像<img>タグを禁止するのも、文章表現力を高めるためです。表紙の絵さえ許しません。それだと表紙のインパクトで読むか否かを判断されます。そうではなく、あくまで文章によって興味をそそるキャッチーな文言を作り出せるようになりたいのです。文章として価値あるコンテンツを作れるようになることを優先するために、無駄空白は禁止します。

# 拡張機能

　できれば実装したい機能です。

・~~~ 場面転換    ◆◇◆◇のような固定テキストを含む段落を書く
・--- 改段        画面を二分割しているとき、次の段へ移動する。一画面のときは次の頁へ。
・=== 改頁        次の頁へ移動する。
・``` 文脈        AA、罫線図、チャット、掲示板の内容を書く
・>   別ファイル  別ファイルをロードする
・:プロパティ 値  テキスト置換・参照{プロパティ}、関数呼出

　場面転換はできれば自然文章で表現したいところです。しかし視点が変わったり場面が変わることを端的に伝えることができるならば記号による視覚表現を許可することもやぶさかではありません。

# 実装方針

　なるだけ簡単に実装したいです。そのために機能をできるだけ削ぎ落としたいです。

　他にも要件は山ほどあります。とくにアップロード、ダウンロードは必須でしょう。他者のテキストファイルを参照・取得・保存・検索したり、自分のテキストファイルを公開する機能はぜひ欲しいです。でも実装があまりに大変だったり、サーバやデータベースが必要になりそうなことから、対象外にせざるを得ませんでした。

　今回はテキストファイルのURLを引数にして、それをキレイに表示する機能だけに絞ります。

　以上。終わり。
